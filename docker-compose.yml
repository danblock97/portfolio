services:
  portfolio:
    build:
      context: .
      dockerfile: Dockerfile
    # Publish ports only for local runs
    # Dokploy should not bind a host port; it will route internally
    ports:
      - "${PORT:-3000}:80" # host:container (Nginx serves on 80 in the image)
    restart: unless-stopped
    profiles: ["local"]
